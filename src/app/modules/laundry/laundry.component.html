<div class="flex align-items-center gap-2 border-bottom-1 surface-border pt-4 pb-4">
  <h2 class="pl-4">Lista de Programaciones</h2>
</div>

<div class="flex align-items-center gap-2 mb-3">
  <button
    pButton
    label="Crear ProgramaciÃ³n"
    icon="pi pi-plus"
    class="p-button-success"
    (click)="onCreateLaundry()"
    type="button"
  ></button>
</div>

<p-card header="Programaciones registradas">
  <p-table
    [value]="laundries"
    [lazy]="true"
    [paginator]="true"
    [rows]="rows"
    [totalRecords]="totalRecords"
    [loading]="loading"
    (onLazyLoad)="onLazyLoad($event)"
    [rowsPerPageOptions]="[5, 10, 20, 50]"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Cliente</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-laundry>
      <tr>
        <td>{{ laundry.id }}</td>
        <td>{{ laundry.client?.name || 'Sin nombre' }}</td>
        <td>
          <p-tag
            [value]="laundry.status"
            [class]="statusColorMap[laundry.status]">
          </p-tag>
        </td>
        <td>
          <button
            pButton
            icon="pi pi-pencil"
            size="small"
            (click)="onEditLaundry(laundry.id)"
            type="button"
          ></button>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="6">No se encontraron programaciones.</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
