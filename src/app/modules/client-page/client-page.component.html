<div class="flex align-items-center gap-2 mb-3">
  <h2>Lista de clientes</h2>
</div>
<div class="flex align-items-center gap-2 mb-3">
  <input
    pInputText
    type="text"
    class="w-full p-inputtext-sm"
    placeholder="Buscar cliente..."
    (input)="onSearch($any($event.target).value)"
  />
  <button
    pButton
    icon="pi pi-refresh"
    (click)="onReload()"
  ></button>
  <button
    pButton
    icon="pi pi-plus"
    class="p-button-success"
    (click)="onCreate()"
  ></button>
</div>

<div *ngIf="clients$ | async as data">
  <ul class="list-none p-0">
    <li
      *ngFor="let client of data.items"
      class="flex justify-content-between align-items-center border-bottom-1 surface-border py-2"
    >
      <div>
        <span class="font-medium">{{ client.name }}</span>
      </div>
      <div class="flex gap-2">
        <button
          pButton
          icon="pi pi-pencil"
          label="Editar"
          class="p-button-sm p-button-secondary"
          (click)="onEdit(client.id)"
        ></button>
      </div>
    </li>
  </ul>

  <p-paginator
    class="mt-3"
    [first]="(data.current_page - 1) * data.per_page"
    [rows]="data.per_page"
    [totalRecords]="data.total"
    (onPageChange)="onPrimePageChange($event)"
  ></p-paginator>
</div>
